{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kali/Documents/web_application/new-unitsoft-intranet-FE/src/components/sms/SMS.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kali/Documents/web_application/new-unitsoft-intranet-FE/src/components/sms/SMS.vue","mtime":1574409188515},{"path":"/home/kali/Documents/web_application/new-unitsoft-intranet-FE/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SelectForm from '../form/SelectForm';\nimport SMSTemplate from '../../constants/kakao_template.js';\nexport default {\n\tname: 'SMS',\n\tmounted() {\n\t\tthis.$store.dispatch('fetchTeachers');\n\t\tthis.$store.dispatch('fetchStudents');\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttemplateNo: 0,\n\t\t\tselectedTemplate: SMSTemplate.templates[0],\n\t\t\taddTarget: null,\n\t\t\ttargets: [],\n\t\t\tarrayForTarget: [],\n\t\t};\n\t},\n\tcomputed: {\n\t\tgetTemplates() {\n\t\t\tlet ret = [];\n\t\t\tfor (let i = 0; i < SMSTemplate.templates.length; i++) ret.push({'id': i, 'name': i});\n\t\t\treturn ret;\n\t\t},\n\t\tgetTargets() {\n\t\t\tlet ret = [];\n\t\t\tthis.$store.getters.getStudents.forEach(ele => ret.push({\n\t\t\t\tstudent: true,\n\t\t\t\tid: ele._id,\n\t\t\t\tname: ele.name,\n\t\t\t\tschool: ele.school,\n\t\t\t\tparent_phone: ele.parent_phone,\n\t\t\t}));\n\t\t\tthis.$store.getters.getTeachers.forEach(ele => ret.push({\n\t\t\t\tstudent: false,\n\t\t\t\tid: ele._id,\n\t\t\t\tname: ele.name,\n\t\t\t\tdepartment: ele.department,\n\t\t\t\tphone: ele.phone,\n\t\t\t}));\n\t\t\t// this.arrayForTarget = ret;\n\t\t\treturn ret;\n\t\t}\n\t},\n\tmethods: {\n\t\tonChangeTemplate(value) {\n\t\t\tthis.templateNo = value;\n\t\t\tthis.selectedTemplate = SMSTemplate.templates[value];\n\t\t},\n\t\tonChangeTarget(value) {\n\t\t\tthis.addTarget = value;\n\t\t},\n\t\tsendKakao() {\n\t\t\t//\n\t\t},\n\t\tdoAddTarget() {\n\t\t\tthis.targets.push(this.arrayForTarget.filter(ele => {\n\t\t\t\treturn ele.id === this.addTarget;\n\t\t\t})[0]);\n\t\t},\n\t\tremoveTarget(target) {\n\t\t\t//\n\t\t}\n\t},\n\tcomponents: {\n\t\tSelectForm,\n\t}\n};\n",{"version":3,"sources":["SMS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SMS.vue","sourceRoot":"src/components/sms","sourcesContent":["<template>\n    <div class=\"md-layout md-alignment-center\">\n        <div class=\"md-layout-item md-size-70\">\n            <md-card>\n                <md-card-header>\n                    <h3 class=\"md-title\">카톡 보내기</h3>\n                </md-card-header>\n                <md-card-content>\n                    <SelectForm v-bind:selectList=\"getTemplates\" v-on:input=\"onChangeTemplate\" name=\"템플릿 고르기\"></SelectForm>\n                    <md-field>\n                        <label>내용</label>\n                        <md-textarea md-autogrow v-model=\"selectedTemplate\"></md-textarea>\n                    </md-field>\n                    <SelectForm v-bind:selectList=\"getTargets\" v-on:input=\"onChangeTarget\" name=\"전송할 사람\"></SelectForm>\n                    <md-button @click=\"doAddTarget\">추가</md-button>\n                    <md-table>\n                        <md-table-row>\n                            <md-table-cell>이름</md-table-cell>\n                            <md-table-cell>소속(학생의 경우 학교)</md-table-cell>\n                            <md-table-cell>전화번호(학생의 경우 부무님 전화번호)</md-table-cell>\n                            <md-table-cell>제거</md-table-cell>\n                        </md-table-row>\n                        <md-table-row v-for=\"target in targets\" v-bind:key=\"target._id\">\n                            <md-table-cell>{{ target.name }}</md-table-cell>\n                            <md-table-cell>{{ target.student ? target.school : target.department }}</md-table-cell>\n                            <md-table-cell>{{ target.student ? target.parent_phone : target.phone }}</md-table-cell>\n                            <md-table-cell><md-button @click=\"removeTarget(target)\">제거</md-button></md-table-cell>\n                        </md-table-row>\n                    </md-table>\n                </md-card-content>\n                <md-card-actions>\n                    <md-button @click=\"sendKakao\">전송</md-button>\n                </md-card-actions>\n            </md-card>\n            <br/>\n        </div>\n    </div>\n</template>\n\n<script>\n\timport SelectForm from '../form/SelectForm';\n\timport SMSTemplate from '../../constants/kakao_template.js';\n\texport default {\n\t\tname: 'SMS',\n\t\tmounted() {\n\t\t\tthis.$store.dispatch('fetchTeachers');\n\t\t\tthis.$store.dispatch('fetchStudents');\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttemplateNo: 0,\n\t\t\t\tselectedTemplate: SMSTemplate.templates[0],\n\t\t\t\taddTarget: null,\n\t\t\t\ttargets: [],\n\t\t\t\tarrayForTarget: [],\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tgetTemplates() {\n\t\t\t\tlet ret = [];\n\t\t\t\tfor (let i = 0; i < SMSTemplate.templates.length; i++) ret.push({'id': i, 'name': i});\n\t\t\t\treturn ret;\n\t\t\t},\n\t\t\tgetTargets() {\n\t\t\t\tlet ret = [];\n\t\t\t\tthis.$store.getters.getStudents.forEach(ele => ret.push({\n\t\t\t\t\tstudent: true,\n\t\t\t\t\tid: ele._id,\n\t\t\t\t\tname: ele.name,\n\t\t\t\t\tschool: ele.school,\n\t\t\t\t\tparent_phone: ele.parent_phone,\n\t\t\t\t}));\n\t\t\t\tthis.$store.getters.getTeachers.forEach(ele => ret.push({\n\t\t\t\t\tstudent: false,\n\t\t\t\t\tid: ele._id,\n\t\t\t\t\tname: ele.name,\n\t\t\t\t\tdepartment: ele.department,\n\t\t\t\t\tphone: ele.phone,\n\t\t\t\t}));\n\t\t\t\t// this.arrayForTarget = ret;\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonChangeTemplate(value) {\n\t\t\t\tthis.templateNo = value;\n\t\t\t\tthis.selectedTemplate = SMSTemplate.templates[value];\n\t\t\t},\n\t\t\tonChangeTarget(value) {\n\t\t\t\tthis.addTarget = value;\n\t\t\t},\n\t\t\tsendKakao() {\n\t\t\t\t//\n\t\t\t},\n\t\t\tdoAddTarget() {\n\t\t\t\tthis.targets.push(this.arrayForTarget.filter(ele => {\n\t\t\t\t\treturn ele.id === this.addTarget;\n\t\t\t\t})[0]);\n\t\t\t},\n\t\t\tremoveTarget(target) {\n\t\t\t\t//\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tSelectForm,\n\t\t}\n\t};\n</script>\n"]}]}