{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kali/Documents/web_application/FE/src/components/students/StudentInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kali/Documents/web_application/FE/src/components/students/StudentInformation.vue","mtime":1558710807961},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport StudentService from '../../service/students.js';\nimport SelectForm from '../form/SelectForm.vue';\n\nexport default {\n    name: 'StudentsDiary',\n    mounted() {\n        this.fetchStudent();\n        this.fetchStudentDiarys();\n        this.$store.dispatch('fetchTeachers');\n        this.$store.dispatch('fetchLessons');\n    },\n    data() {\n        return {\n            Student: {\n                _id: '',\n                school: '',\n                grade: '',\n                phone: '',\n                parent_phone: '',\n                unitstudy_id: '',\n            },\n            ModifyingStudent: false,\n            Diarys: [],\n            diary: {\n                student_id: '',\n                teacher: '',\n                lesson_type: '',\n                lesson_time: JSON.stringify({\n                    date: '',\n                    start: '',\n                    end: '',\n                }),\n                lesson_about: '',\n                // 학생 시간 관리\n                time: '',\n            },\n            Teacher: null,\n            Lesson: null,\n        };\n    },\n    computed: {\n        getTeachers() {\n            let TeachersInfo = this.$store.getters.getTeachers;\n            let ret = [];\n            TeachersInfo.forEach(teacher => {\n                ret.push({\n                    id: teacher._id,\n                    name: teacher.name,\n                });\n            });\n            return ret;\n        },\n        getLessons() {\n            let LessonsInfo = this.$store.getters.getLessons;\n            let ret = [];\n            LessonsInfo.forEach(lesson => {\n                ret.push({\n                    id: lesson._id,\n                    name: lesson.type,\n                });\n            });\n            return ret;\n        }\n    },\n    methods: {\n        modify_student() {\n            this.ModifyingStudent = true;\n        },\n        do_modify_student() {\n            this.ModifyingStudent = false;\n        },\n        onChangeTeachers(value) {\n            this.Teacher = value;\n        },\n        onChangeLessons(value) {\n            this.Lesson = value;\n        },\n        fetchStudent() {\n            StudentService.getStudent(this.$route.params.StudentId)\n                .then((response) => {\n                    this.Student = response.data.student;\n                })\n                .catch(error => {\n                    console.log(error);\n                });\n        },\n        fetchStudentDiarys() {\n            StudentService.getStudentDiaryByStudentId(this.$route.params.StudentId)\n                .then((response) => {\n                    this.Diarys = response.data.Diarys;\n                });\n        },\n        AddStudentDiary() {\n        },\n    },\n    components: {\n        SelectForm,\n    },\n};\n",{"version":3,"sources":["StudentInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentInformation.vue","sourceRoot":"src/components/students","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-10\">\n                <br/>\n                <h4>{{ Student.name }}</h4>\n                <br/>\n                <div class=\"row\">\n                    <div class=\"input-field col s5\">\n                        <input type=\"text\" name=\"school\" v-model=\"Student.school\" id=\"school\"\n                               :disabled=\"!ModifyingStudent\">\n                        <label for=\"school\" class=\"active\">학교</label>\n                    </div>\n                    <div class=\"input-field col s5\">\n                        <input type=\"text\" name=\"grade\" v-model=\"Student.grade\" id=\"grade\"\n                               :disabled=\"!ModifyingStudent\">\n                        <label for=\"grade\" class=\"active\">학년</label>\n                    </div>\n                    <div class=\"input-field col s5\">\n                        <input type=\"text\" name=\"phone\" v-model=\"Student.phone\" id=\"phone\"\n                               :disabled=\"!ModifyingStudent\">\n                        <label for=\"phone\" class=\"active\">학생 전화번호</label>\n                    </div>\n                    <div class=\"input-field col s5\">\n                        <input type=\"text\" name=\"parent-phone\" v-model=\"Student.parent_phone\" id=\"parent-phone\"\n                               :disabled=\"!ModifyingStudent\">\n                        <label for=\"parent-phone\" class=\"active\">부모님 전화번호</label>\n                    </div>\n                    <div class=\"input-field col s5\">\n                        <input type=\"text\" name=\"unitstudy-id\" v-model=\"Student.unitstudy_id\" id=\"unitstudy-id\"\n                               :disabled=\"!ModifyingStudent\">\n                        <label for=\"unitstudy-id\" class=\"active\">유닛스터디 ID</label>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <button v-if=\"!ModifyingStudent\" class=\"btn\" @click=\"modify_student()\" id=\"change-btn\"><i\n                            class=\"icon icon-pencil\"></i> 수정하기\n                    </button>\n                    <button v-else class=\"btn\" @click=\"do_modify_student()\" id=\"do-chang-btn\"><i\n                            class=\"icon icon-pencil\"></i>완료\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <h4>일지 추가</h4>\n        <div class=\"row\">\n            <v-time></v-time>\n            <div class=\"input-field col s4\">\n                <label id=\"now-date-label\" class=\"active\">수업시간</label>\n                <input type=\"text\" id=\"now-date\" class=\"datepicker\" v-model=\"diary.date\">\n            </div>\n            <div class=\"input-field col s4\">\n                <label id=\"start-time-label\" class=\"active\">시작 시간</label>\n                <input type=\"text\" id=\"start-time\" class=\"timepicker\" v-model=\"diary.start\">\n            </div>\n            <div class=\"input-field col s4\">\n                <label id=\"end-time-label\" class=\"active\">종료 시간</label>\n                <input type=\"text\" id=\"end-time\" class=\"timepicker\" v-model=\"diary.end\">\n            </div>\n            <div class=\"input-field col s6\">\n                <SelectForm v-bind:selectList=\"getTeachers\" v-on:input=\"onChangeTeachers\" name=\"담당 선생님\"></SelectForm>\n            </div>\n            <div class=\"input-field col s6\">\n                <SelectForm v-bind:selectList=\"getLessons\" v-on:input=\"onChangeLessons\" name=\"수업 종류\"></SelectForm>\n            </div>\n            <div class=\"input-field col s12\">\n                <label class=\"active\">상세 내용</label>\n                <input type=\"text\" id=\"lesson-about\">\n            </div>\n            <button class=\"btn waves-effect waves-light\" id=\"add-studentdiary-btn\" @click=\"AddStudentDiary()\"\n                    name=\"action\">일지추가\n                <i class=\"material-icons right\">send</i>\n            </button>\n        </div>\n\n        <div class=\"row\">\n            <h4>일지</h4>\n\n            <table>\n                <tr>\n                    <th style=\"width: 30%\">횟수 / 시간</th>\n                    <td style=\"width: 70%\">\n                        <div class=\"input-field inline s2\">\n                            <input disabled type=\"text\" value=\"<%= student.count %>\" id=\"total-count\">\n                        </div>\n                        <div class=\"input-field inline s2\">\n                            <input disabled type=\"text\" value=\"<%= student.time %>\" id=\"total-time\">\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <th>미결제 일지 <br><br><label><input type=\"checkbox\" id=\"diary-check-all\"><span>전체 선택</span></label>\n                    </th>\n                    <td>\n                        <div id=\"uncomplete-diary-list\">\n                            <!--                        <% not_complete.forEach(function (diary) { %>-->\n                            <!--                        <% include diary_student.ejs %>-->\n                            <!--                        <% }) %>-->\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <th>\n                        일지\n                        <br>\n                        <div class=\"input-field col s4\">\n                            <input id=\"reload-start\" class=\"datepicker\" onchange=\"reload_start()\">\n                        </div>\n                        <div class=\"input-field col s4 m4\">\n                            <input id=\"reload-end\" class=\"datepicker\" onchange=\"reload_end()\">\n                        </div>\n                    </th>\n                    <td>\n                        <div id=\"diary-list\">\n                            <!--                        <% is_complete.forEach(function (diary) { %>-->\n                            <!--                        <% include diary_student.ejs %>-->\n                            <!--                        <% }) %>-->\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\n    import StudentService from '../../service/students.js';\n    import SelectForm from '../form/SelectForm.vue';\n\n    export default {\n        name: 'StudentsDiary',\n        mounted() {\n            this.fetchStudent();\n            this.fetchStudentDiarys();\n            this.$store.dispatch('fetchTeachers');\n            this.$store.dispatch('fetchLessons');\n        },\n        data() {\n            return {\n                Student: {\n                    _id: '',\n                    school: '',\n                    grade: '',\n                    phone: '',\n                    parent_phone: '',\n                    unitstudy_id: '',\n                },\n                ModifyingStudent: false,\n                Diarys: [],\n                diary: {\n                    student_id: '',\n                    teacher: '',\n                    lesson_type: '',\n                    lesson_time: JSON.stringify({\n                        date: '',\n                        start: '',\n                        end: '',\n                    }),\n                    lesson_about: '',\n                    // 학생 시간 관리\n                    time: '',\n                },\n                Teacher: null,\n                Lesson: null,\n            };\n        },\n        computed: {\n            getTeachers() {\n                let TeachersInfo = this.$store.getters.getTeachers;\n                let ret = [];\n                TeachersInfo.forEach(teacher => {\n                    ret.push({\n                        id: teacher._id,\n                        name: teacher.name,\n                    });\n                });\n                return ret;\n            },\n            getLessons() {\n                let LessonsInfo = this.$store.getters.getLessons;\n                let ret = [];\n                LessonsInfo.forEach(lesson => {\n                    ret.push({\n                        id: lesson._id,\n                        name: lesson.type,\n                    });\n                });\n                return ret;\n            }\n        },\n        methods: {\n            modify_student() {\n                this.ModifyingStudent = true;\n            },\n            do_modify_student() {\n                this.ModifyingStudent = false;\n            },\n            onChangeTeachers(value) {\n                this.Teacher = value;\n            },\n            onChangeLessons(value) {\n                this.Lesson = value;\n            },\n            fetchStudent() {\n                StudentService.getStudent(this.$route.params.StudentId)\n                    .then((response) => {\n                        this.Student = response.data.student;\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    });\n            },\n            fetchStudentDiarys() {\n                StudentService.getStudentDiaryByStudentId(this.$route.params.StudentId)\n                    .then((response) => {\n                        this.Diarys = response.data.Diarys;\n                    });\n            },\n            AddStudentDiary() {\n            },\n        },\n        components: {\n            SelectForm,\n        },\n    };\n</script>"]}]}